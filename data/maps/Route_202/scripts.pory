const Lucas = 1
const Dawn = 2

mapscripts Route_202_MapScripts 
{
    MAP_SCRIPT_ON_TRANSITION : Route_202_OnTransition
}

script Route_202_OnTransition
{
    call_if_unset(FLAG_CATCHING_TUTORIAL_DONE, Route_202_Hide_Dawn_Lucas)
    end()
}

script Route_202_Hide_Dawn_Lucas
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Route_202_EventScript_Hide_Lucas)
    goto_if_eq(VAR_RESULT, FEMALE, Route_202_EventScript_Hide_Dawn)
}

script Route_202_EventScript_Hide_Lucas
{
    setflag(FLAG_HIDE_LUCAS_ROUTE_202)
    end()
}

script Route_202_EventScript_Hide_Dawn
{
    setflag(FLAG_HIDE_DAWN_ROUTE_202)
    end()
}

script Route_202_EventScript_Location_Sign
{
    msgbox(Route_202_EventScript_Location_Sign_Text, MSGBOX_SIGN)
}

script Route_202_EventScript_Rival_2_Stops_Until_You_Talk_To_Mom_1
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Route_202_EventScript_Dawn_Stops_You_1)
    goto_if_eq(VAR_RESULT, FEMALE, Route_202_EventScript_Lucas_Stops_You_1)
}

script Route_202_EventScript_Rival_2_Stops_Until_You_Talk_To_Mom_2
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Route_202_EventScript_Dawn_Stops_You_2)
    goto_if_eq(VAR_RESULT, FEMALE, Route_202_EventScript_Lucas_Stops_You_2)
}

script Route_202_EventScript_Rival_2_Stops_Until_You_Talk_To_Mom_3
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Route_202_EventScript_Dawn_Stops_You_3)
    goto_if_eq(VAR_RESULT, FEMALE, Route_202_EventScript_Lucas_Stops_You_3)
}

script Route_202_EventScript_Rival_2_Stops_Until_You_Talk_To_Mom_4
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Route_202_EventScript_Dawn_Stops_You_4)
    goto_if_eq(VAR_RESULT, FEMALE, Route_202_EventScript_Lucas_Stops_You_4)
}

script Route_202_EventScript_Dawn_Stops_You_1
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Comes_To_You_1)
    waitmovement(0)
    msgbox(Route_202_Text_Dawn_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Dawn, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Goes_Back_1)
    waitmovement(0)
}

script Route_202_EventScript_Dawn_Stops_You_2
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Comes_To_You_2)
    waitmovement(0)
    msgbox(Route_202_Text_Dawn_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Dawn, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Goes_Back_2)
    waitmovement(0)
}

script Route_202_EventScript_Dawn_Stops_You_3
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Comes_To_You_3)
    waitmovement(0)
    msgbox(Route_202_Text_Dawn_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Dawn, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Goes_Back_3)
    waitmovement(0)
}

script Route_202_EventScript_Dawn_Stops_You_4
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Comes_To_You_4)
    waitmovement(0)
    msgbox(Route_202_Text_Dawn_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Dawn, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Dawn, Route_202_Movement_Rival_2_Goes_Back_4)
    waitmovement(0)
}

script Route_202_EventScript_Lucas_Stops_You_1
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Comes_To_You_1)
    waitmovement(0)
    msgbox(Route_202_Text_Lucas_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Lucas, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Goes_Back_1)
    waitmovement(0)
}

script Route_202_EventScript_Lucas_Stops_You_2
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Comes_To_You_2)
    waitmovement(0)
    msgbox(Route_202_Text_Lucas_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Lucas, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Goes_Back_2)
    waitmovement(0)
}

script Route_202_EventScript_Lucas_Stops_You_3
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Comes_To_You_3)
    waitmovement(0)
    msgbox(Route_202_Text_Lucas_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Lucas, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Goes_Back_3)
    waitmovement(0)
}

script Route_202_EventScript_Lucas_Stops_You_4
{
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Comes_To_You_4)
    waitmovement(0)
    msgbox(Route_202_Text_Lucas_Tells_To_Go_Home, MSGBOX_SIGN)
    applymovement(Lucas, Route_202_Movement_Rival_2_Walks_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Route_202_Movement_Player_Gets_Back)
    waitmovement(0)
    applymovement(Lucas, Route_202_Movement_Rival_2_Goes_Back_4)
    waitmovement(0)
}

script Route_202_EventScript_Trainer_Tips
{
    msgbox(Route_202_EventScript_Trainer_Tips_Text, MSGBOX_SIGN)
}

script Route_202_EventScript_Location_Sign_1
{
    msgbox(Route_202_EventScript_Location_Sign_1_Text, MSGBOX_SIGN)
}

text Route_202_EventScript_Location_Sign_Text
{
   "Rt. 202\n"
   "Sandgem Town"
}

text Route_202_Text_Dawn_Tells_To_Go_Home
{
   "Dawn: {PLAYER}?!\p"
   "Did you tell your family that you're\n"
   "helping the professor?\p"
   "...You didn't, did you?\p"
   "I know that you're really eager to\n"
   "see all kinds of Pokemon.\p"
   "But you shouldn't make your mom\n"
   "worry that you've disappeared."
}

text Route_202_Text_Lucas_Tells_To_Go_Home
{
   "Dawn: {PLAYER}?!\p"
   "Did you tell your family that you're\n"
   "helping the professor?\p"
   "...You didn't, did you?\p"
   "I know that you're really eager to\n"
   "see all kinds of Pokemon.\p"
   "But you shouldn't make your mom\n"
   "worry that you've disappeared."
}

text Route_202_EventScript_Trainer_Tips_Text
{
   "Trainer Tips!\p"
   "All Pokemon that are involved in\n"
   "a battle earn Exp. points!\p"
   "The more your Pokemon battle,\n"
   "the stronger they will become."
}

text Route_202_EventScript_Location_Sign_1_Text
{
   "Rt. 202\n"
   "Jubilife City"
}

movement Route_202_Movement_Rival_2_Comes_To_You_1
{
    walk_right * 4
    walk_up * 2
    walk_right
}

movement Route_202_Movement_Rival_2_Comes_To_You_2
{
    walk_right * 4
    walk_up
    walk_right
}

movement Route_202_Movement_Rival_2_Comes_To_You_3
{
    walk_right * 5
}

movement Route_202_Movement_Rival_2_Comes_To_You_4
{
    walk_right * 4
    walk_down
    walk_right
}

movement Route_202_Movement_Rival_2_Walks_Right
{
    walk_right
}

movement Route_202_Movement_Player_Gets_Back
{
    walk_right
    face_left
}

movement Route_202_Movement_Rival_2_Goes_Back_1
{
    walk_left * 6
    walk_down * 2
    face_right
}

movement Route_202_Movement_Rival_2_Goes_Back_2
{
    walk_left * 6
    walk_down
    face_right
}

movement Route_202_Movement_Rival_2_Goes_Back_3
{
    walk_left * 6
    face_right
}

movement Route_202_Movement_Rival_2_Goes_Back_4
{
    walk_left * 6
    walk_up
    face_right
}
